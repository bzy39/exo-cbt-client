{"version":3,"sources":["webpack:///./src/views/setting/Sekolah.vue?b38e","webpack:///src/views/setting/Sekolah.vue","webpack:///./src/views/setting/Sekolah.vue?e96d","webpack:///./src/views/setting/Sekolah.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","sekolah","value","staticStyle","attrs","logo","baseURL","_e","on","onFileChange","_s","label","storeLogo","directives","name","rawName","data","expression","domProps","$event","target","composing","$set","isLoading","store","staticRenderFns","formData","append","component"],"mappings":"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","file":"js/chunk-2d230883.949064a6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\" Informasi sekolah \")]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"d-flex mb-3\"},[(typeof _vm.sekolah.value != 'undefined')?_c('img',{staticStyle:{\"max-height\":\"66px\"},attrs:{\"src\":_vm.sekolah.value.logo != '' ? _vm.baseURL+'/storage/'+_vm.sekolah.value.logo : '/img/logo.ico'}}):_vm._e()]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Logo sekolah\")]),_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"custom-file\"},[_c('input',{staticClass:\"custom-file-input\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.onFileChange}}),_c('label',{staticClass:\"custom-file-label\"},[_vm._v(_vm._s(_vm.label ? _vm.label : 'Pilih File...'))])]),_c('div',{staticClass:\"input-group-append\"},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.storeLogo}},[_c('i',{staticClass:\"flaticon-upload-1\"}),_vm._v(\" Upload\")])],1)])]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Nama sekolah\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.nama_sekolah),expression:\"data.nama_sekolah\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.data.nama_sekolah)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"nama_sekolah\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.email),expression:\"data.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\"},domProps:{\"value\":(_vm.data.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Alamat\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.alamat),expression:\"data.alamat\"}],staticClass:\"form-control\",domProps:{\"value\":(_vm.data.alamat)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"alamat\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Kepala sekolah\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.kepala_sekolah),expression:\"data.kepala_sekolah\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.data.kepala_sekolah)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"kepala_sekolah\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"NIP Kepala sekolah\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.nip_kepsek),expression:\"data.nip_kepsek\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.data.nip_kepsek)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"nip_kepsek\", $event.target.value)}}})])]),_c('div',{staticClass:\"col-md-6\"})]),_c('div',{staticClass:\"form-group\"},[_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":_vm.isLoading},on:{\"click\":_vm.store}},[_c('i',{staticClass:\"cil-save\"}),_vm._v(\" \"+_vm._s(_vm.isLoading ? 'Processing..' : 'Simpan')+\" \")])],1)]),_c('div',{staticClass:\"card-footer\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    Informasi sekolah\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"d-flex mb-3\">\n                        <img v-if=\"typeof sekolah.value != 'undefined'\" :src=\"sekolah.value.logo != '' ? baseURL+'/storage/'+sekolah.value.logo : '/img/logo.ico'\" style=\"max-height: 66px\">\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <div class=\"form-group\">\n                                <label>Logo sekolah</label>\n                                <div class=\"input-group\">\n                                    <div class=\"custom-file\">\n                                      <input type=\"file\" class=\"custom-file-input\" @change=\"onFileChange\">\n                                      <label class=\"custom-file-label\">{{ label ? label : 'Pilih File...' }}</label>\n                                    </div>\n                                    <div class=\"input-group-append\">\n                                      <b-button variant=\"primary\" @click=\"storeLogo\">\n                                        <i class=\"flaticon-upload-1\"></i> \n                                        Upload</b-button>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"form-group\">\n                                <label>Nama sekolah</label>\n                                <input type=\"text\" v-model=\"data.nama_sekolah\" class=\"form-control\">\n                            </div>\n                            <div class=\"form-group\">\n                                <label>Email</label>\n                                <input type=\"email\" v-model=\"data.email\" class=\"form-control\">\n                            </div>\n                            <div class=\"form-group\">\n                                <label>Alamat</label>\n                                <textarea class=\"form-control\" v-model=\"data.alamat\"></textarea>\n                            </div>\n                            \n                            <div class=\"form-group\">\n                                <label>Kepala sekolah</label>\n                                <input type=\"text\" class=\"form-control\" v-model=\"data.kepala_sekolah\">\n                            </div>\n                            <div class=\"form-group\">\n                                <label>NIP Kepala sekolah</label>\n                                <input type=\"text\" class=\"form-control\" v-model=\"data.nip_kepsek\">\n                            </div>\n                        </div>\n                        <div class=\"col-md-6\">\n                        </div>\n                    </div>\n                    <div class=\"form-group\">\n                        <b-button variant=\"primary\" @click=\"store\" :disabled=\"isLoading\">\n                            <i class=\"cil-save\"></i> {{ isLoading ? 'Processing..' : 'Simpan' }} \n                        </b-button>\n                    </div>\n                </div>\n                <div class=\"card-footer\">\n                    \n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { mapGetters, mapState, mapActions } from 'vuex'\nimport { successToas, errorToas} from '@/entities/notif'\n\nexport default {\n    name: 'SekolahSetting',\n    data() {\n        return {\n            file: '',\n            label: '',\n            data: {\n                logo: '',\n                nama_sekolah: '',\n                email: '',\n                alamat: '',\n                kepala_sekolah: '',\n                nip_kepsek: ''\n            }\n        }\n    },\n    computed: {\n        ...mapGetters(['isLoading', 'baseURL']),\n        ...mapState('setting', { sekolah: state => state.set_sekolah })\n    },\n    methods: {\n        ...mapActions('setting',['getSettingSekolah','storeSettingSekolah', 'changeLogoSekolah']),\n        changeData(provider) {\n            this.data = {\n                logo: provider.value.logo,\n                nama_sekolah : provider.value.nama_sekolah,\n                email: provider.value.email,\n                alamat: provider.value.alamat,\n                kepala_sekolah: provider.value.kepala_sekolah,\n                nip_kepsek: provider.value.nip_kepsek\n            }\n        },\n        async store() {\n            try {\n                await this.storeSettingSekolah(this.data)\n                this.getSettingSekolah()\n                this.$bvToast.toast('Data sekolah berhasil disimpan', successToas())\n            } catch (error) {\n                this.$bvToast.toast(error.message, errorToas())\n            }\n        },\n        onFileChange(e) {\n          this.label = e.target.files[0].name\n          this.file = e.target.files[0]\n        },\n        async storeLogo() {\n            try {\n                let formData = new FormData()\n                formData.append('image',this.file)\n                \n                await this.changeLogoSekolah(formData)\n                let provider = await this.getSettingSekolah()\n                if(provider) {\n                    this.changeData(provider)\n                }\n                this.$bvToast.toast('Logo sekolah berhasil disimpan', successToas())\n            } catch (error) {\n                this.$bvToast.toast(error.message, errorToas())\n            }\n        }\n    },\n    async created() {\n        try {\n            let provider = await this.getSettingSekolah()\n            if(provider) {\n                this.changeData(provider)\n            }\n        } catch (error) {\n            this.$bvToast.toast(error.message, errorToas())\n        }   \n    }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sekolah.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sekolah.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sekolah.vue?vue&type=template&id=72a18368&\"\nimport script from \"./Sekolah.vue?vue&type=script&lang=js&\"\nexport * from \"./Sekolah.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}